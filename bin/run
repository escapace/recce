#!/usr/bin/env node
const { logger } = require('@escapace/logger')

require('@oclif/command')
  .run()
  .catch(err => {
    if (!err) err = new Error('no error?')
    process.exitCode = err.oclif && err.oclif.exit !== undefined ? err.oclif.exit : 1

    if (process.exitCode !== 0 && err.message) {
      logger.error(err.message)
    }
  })
